{"$id":"https://trendmarketv2.local/schemas/report.schema.json","$schema":"http://json-schema.org/draft-07/schema#","additionalProperties":false,"definitions":{"input_descriptor":{"additionalProperties":true,"properties":{"schema":{"type":"string"},"schema_version":{"type":"integer"},"timestamp_utc":{"format":"date-time","type":"string"}},"required":["schema","schema_version","timestamp_utc"],"type":"object"},"metric_entry":{"additionalProperties":false,"properties":{"comparison":{"enum":["gte","lte"],"type":"string"},"delta":{"type":"string"},"formatted_observed":{"type":"string"},"formatted_target":{"type":"string"},"guidance":{"type":"string"},"observed":{"type":"string"},"ok":{"type":"boolean"},"sample_size":{"minimum":1,"type":"integer"},"target":{"type":"string"},"unit":{"enum":["ratio","seconds","percent"],"type":"string"},"window":{"minLength":1,"type":"string"}},"required":["observed","target","delta","comparison","unit","sample_size","window","ok","formatted_observed","formatted_target","guidance"],"type":"object"}},"properties":{"bundle":{"additionalProperties":false,"properties":{"sha256":{"pattern":"^[0-9a-f]{64}$","type":"string"}},"required":["sha256"],"type":"object"},"inputs":{"additionalProperties":false,"properties":{"metrics":{"$ref":"#/definitions/input_descriptor"},"thresholds":{"$ref":"#/definitions/input_descriptor"}},"required":["thresholds","metrics"],"type":"object"},"metrics":{"additionalProperties":false,"properties":{"cdc_lag_p95_s":{"$ref":"#/definitions/metric_entry"},"divergence_pct":{"$ref":"#/definitions/metric_entry"},"failover_time_p95_s":{"$ref":"#/definitions/metric_entry"},"quorum_ratio":{"$ref":"#/definitions/metric_entry"},"staleness_p95_s":{"$ref":"#/definitions/metric_entry"}},"required":["quorum_ratio","failover_time_p95_s","staleness_p95_s","cdc_lag_p95_s","divergence_pct"],"type":"object"},"schema":{"const":"trendmarketv2.sprint6.report","type":"string"},"schema_version":{"const":2,"type":"integer"},"status":{"enum":["PASS","FAIL"],"type":"string"},"summary":{"additionalProperties":false,"properties":{"failing":{"minimum":0,"type":"integer"},"passing":{"minimum":0,"type":"integer"},"total":{"minimum":0,"type":"integer"}},"required":["total","passing","failing"],"type":"object"},"timestamp_utc":{"format":"date-time","type":"string"}},"required":["schema","schema_version","timestamp_utc","status","summary","metrics","inputs","bundle"],"title":"Sprint 6 Scorecard Report","type":"object"}
